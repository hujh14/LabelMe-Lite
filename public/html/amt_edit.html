<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Amazon Mechanical Turk Edit Interface">
    <meta name="author" content="Jeffrey Hu">
    <title>LabelMeLite</title>

    <!-- JQuery -->
    <script src="//code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <!-- Icons -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.min.css" integrity="sha256-Q9c+RVayp4Y4gEKE3jaABDEwnMlDf6cFEWEQSzFaOB8=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- Fancytree -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.fancytree/2.30.2/skin-awesome/ui.fancytree.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.fancytree/2.30.2/jquery.fancytree-all-deps.min.js"></script>

    <!-- Custom CSS -->
    <link href="stylesheets/labelmelite.css" rel="stylesheet">
    <link href="stylesheets/buttons.css" rel="stylesheet">
    <link href="stylesheets/instructions.css" rel="stylesheet">
    <link href="stylesheets/holders.css" rel="stylesheet">
    <link href="stylesheets/amt_edit.css" rel="stylesheet">

</head>
<body>

  <div id="questionDiv">
    <div>
      <button type="button" class="btn btn-primary btn-sm" onclick="toggleInstruction(); ">Instructions</button>
      <span>Please annotate <b id="categoryName0">category</b>.</span>
      <button type="button" class="btn btn-primary btn-sm" id="submitButton" onclick="return submit()" disabled>Submit (? images left)</button>
    </div>
    <div id="definitionDiv">
      <b>Definition: </b><span id="definition">None</span>
    </div>
  </div>

  <div id="instructionDiv">
    <h3>Task</h3>
    <ul>
        <li>For each of the <b id="bundleLength" style="color: #00F;">N</b> images, refine this annotation of <b id="categoryName1">category</b>.
        <li>A good annotation covers the entirety of the object and only the object. It is only wrong along the boundary by a few pixels.
        <li>Examples of good and bad annotations are shown below.
    </ul>
    <h3>Usage</h3>
    <ul>
        <li>Use the [&rarr;] key to go to the next image.</li>
        <li>Use your mouse to edit the annotation.</li>
        <li>Use the [&larr;] key to go back to the previous image, if you skipped an image accidentaly.</li>
    </ul>
    <h3>Submit</h3>
    <ul>
        <li>After you answer all the images, the [submit] button will be enabled.</li>
        <li><b style="color: #00F;">If your accuracy is too low, it won't allow you to submit. You will have to improve your answers first.</b></li>
    </ul>
    <h3>Examples</h3>
    <div id="exampleDiv">
      <div>
        <div id="exampleYes0" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
        <div id="exampleNo0" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
      </div>
      <div>
        <div id="exampleYes1" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
        <div id="exampleNo1" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
      </div>
      <div>
        <div id="exampleYes2" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
        <div id="exampleNo2" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
      </div>
      <div>
        <div id="exampleYes3" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
        <div id="exampleNo3" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
      </div>
      <div>
        <div id="exampleYes4" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
        <div id="exampleNo4" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
      </div>
      <div>
        <div id="exampleYes5" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
        <div id="exampleNo5" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
      </div>
      <div>
        <div id="exampleYes6" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
        <div id="exampleNo6" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
      </div>
      <div>
        <div id="exampleYes7" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
        <div id="exampleNo7" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
      </div>
      <div>
        <div id="exampleYes8" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
        <div id="exampleNo8" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
      </div>
      <div>
        <div id="exampleYes9" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
        <div id="exampleNo9" class="holderDiv focus0"><p>No</p><p>Yes</p><b>IoU=None</b><canvas></canvas></div>
      </div>
    </div>
    <p style="font-size: 8pt; color: #999;">By making judgments about these images, you are participating in a study being performed by XXX. If you have questions about this research, please contact XXX at XXX. Your participation in this research is voluntary. You may decline further participation, at any time, without adverse consequences. Your anonymity is assured; the researchers who have requested your participation will not receive any personal information about you.</p>
  </div>

  <!-- LabelMeLite -->
  <div id="toolDiv">
    <nav class="navbar">
      <a class="navbar-brand" href="/">LabelMe</a>
      <div id="viewButtons">
        <button type="button" class="btn toolBtn toolBtn-small" id="decreaseBrightness"><i class="fa material-icons">brightness_low</i></button>
        <button type="button" class="btn toolBtn toolBtn-small" id="increaseBrightness"><i class="fa material-icons">brightness_4</i></button>
        <button type="button" class="btn toolBtn toolBtn-small" id="zoomIn"><i class="fa fa-search-plus"></i></i></button>
        <button type="button" class="btn toolBtn toolBtn-small" id="zoomOut"><i class="fa fa-search-minus"></i></button>
        <button type="button" class="btn toolBtn toolBtn-small" id="undo"><i class="fa material-icons">undo</i></button>
        <button type="button" class="btn toolBtn toolBtn-small" id="redo"><i class="fa material-icons">redo</i></button>
      </div>
    </nav>
    <div id="rightbar" class="sidebar">
      <div class="panel-heading">
        <h3 class="panel-title">Annotations</h3>
      </div>
      <div class="panel-body">
        <div id="tree" class="panel-body fancytree-fade-expander"></div> 
      </div>
    </div>
    <canvas id="toolCanvas" resize></canvas>
  </div>

  <!-- Yes/No Holders -->
  <div id="yesnoDiv">
      <div id="holderDiv-2" class="holderDiv focus2"><p>No</p><p>Yes</p><canvas></canvas></div>
      <div id="holderDiv-1" class="holderDiv focus1"><p>No</p><p>Yes</p><b></b><canvas></canvas></div>
      <div id="holderDiv0" class="holderDiv focus"><p>No</p><p>Yes</p><b></b><canvas></canvas></div> 
      <div id="holderDiv1" class="holderDiv focus1"><p>No</p><p>Yes</p><b></b><canvas></canvas></div>
      <div id="holderDiv2" class="holderDiv focus2"><p>No</p><p>Yes</p><canvas></canvas></div>
  </div>

  <!-- AMT Submit Form -->
  <form id = "amtForm" action="" method="POST">
    <input type="hidden" id="user-input" value="" name="user-input"/>
    <input type="hidden" id="assignmentId" value="" name="assignmentId"/>
    <input type="hidden" id="workerId" value="" name="workerId"/>
    <input type="hidden" id="hitId" value="" name="hitId"/>
  </form>

  <!-- Util Javascripts -->
  <script type="text/javascript" src="javascripts/utils/coco.js"></script>
  <script type="text/javascript" src="javascripts/utils/opencv.js"></script>
  <script type="text/javascript" src="javascripts/utils/opencv_utils.js"></script>
  <script type="text/javascript" src="javascripts/utils/rle.js"></script>
  <script type="text/javascript" src="javascripts/utils/endpoints.js"></script>
  
  <!-- LabelMeLite Javascripts -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.12.0/paper-full.min.js"></script>
  <script type="text/paperscript" src="javascripts/tool/tool_select.js" canvas="toolCanvas"></script>
  <script type="text/paperscript" src="javascripts/tool/tool_brush.js" canvas="toolCanvas"></script>
  <script type="text/paperscript" src="javascripts/tool/tool_edit.js" canvas="toolCanvas"></script>
  <script type="text/paperscript" src="javascripts/tool/tool_new.js" canvas="toolCanvas"></script>
  <script type="text/paperscript" src="javascripts/tool/annotations.js" canvas="toolCanvas"></script>
  <script type="text/paperscript" src="javascripts/tool/background.js" canvas="toolCanvas"></script>
  <script type="text/paperscript" src="javascripts/tool/transforms.js" canvas="toolCanvas"></script>
  <script type="text/paperscript" src="javascripts/tool/tree.js" canvas="toolCanvas"></script>
  <script type="text/paperscript" src="javascripts/tool/keys.js" canvas="toolCanvas"></script>
  <script type="text/javascript" src="javascripts/tool/buttons.js"></script>
  <script type="text/javascript" src="javascripts/tool/load.js"></script>

  <!-- Main Javascripts -->
  <script type="text/javascript" src="javascripts/amt/instructions.js"></script>
  <script type="text/javascript" src="javascripts/amt/examples.js"></script>
  <script type="text/javascript" src="javascripts/amt/evaluation.js"></script>
  <script type="text/javascript" src="javascripts/amt/hidden_tests.js"></script>
  <script type="text/javascript" src="javascripts/amt/holders.js"></script>
  <script type="text/javascript" src="javascripts/amt/load_buttons.js"></script>
  <script type="text/javascript" src="javascripts/amt/main_edit.js"></script>

</body>

</html>